<!doctype html>
<html ng-app="app">
<head>
	<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
	<link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.0/cerulean/bootstrap.min.css" rel="stylesheet">
	<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
	<link href="http://cdnjs.cloudflare.com/ajax/libs/ng-grid/2.0.7/ng-grid.css" rel="stylesheet">
	<link href="/xeditable.css" rel="stylesheet"/>
	<link href="/style.css" rel="stylesheet"/>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular.min.js"></script>
</head>
<body ng-controller="MainCtl">
<div class="jumbotron" ng-hide="print">
	<h1>Grocery List</h1>

	<p>Use the print button!</p>
</div>
<a href="https://github.com/jakecoffman/grocery" ng-hide="print">
	<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github-camo.global.ssl.fastly.net/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png">
</a>
<div class="container-fluid">
	<div class="row">
		<div class="col-sm-12">
			<div class="pull-right">
				<button class="btn btn-primary" ng-hide="print" ng-click="myData.unshift({location:'New',edit:true,data:[{}]})">
					<i class="fa fa-plus fa-sm"></i>
				</button>
				<button class="btn btn-primary" ng-click="print=!print">
					<i class="fa fa-print"></i>
				</button>
				<button class="btn btn-danger" ng-hide="print" ng-click="open()">
					<i class="fa fa-file-o"></i>
				</button>
			</div>
			<div ng-repeat="d in myData track by $index">
				<h2 ng-hide="print">
					<a editable-text="d.location">{{d.location || "Location" }}</a>
					<button class="btn btn-danger" ng-click="myData.splice($index, 1);" ng-hide="print">
						<i class="fa fa-trash-o"></i>
					</button>
				</h2>

				<p ng-show="print">{{d.location}}</p>
				<table class="table table-bordered table-striped table-hover table-condensed">
					<colgroup>
						<col style="width: 60%">
						<col style="width: 40%">
					</colgroup>
					<thead ng-hide="print">
					<tr>
						<th>Name</th>
						<th>Quantity</th>
						<th>
							<button class="btn btn-primary" ng-click="d.data.unshift({name: '', quantity: '', unit: ''})" ng-hide="print">
								<i class="fa fa-plus"></i>
							</button>
						</th>
					</tr>
					</thead>
					<tbody>
					<tr ng-repeat="i in d.data track by $index">
						<td ng-model="i.name" contenteditable ng-class="{readable: !print}"></td>
						<td ng-model="i.quantity" contenteditable ng-class="{readable: !print}"></td>
						<td ng-hide="print">
							<button class="btn btn-danger" ng-click="d.data.splice($index, 1);">
								<i class="fa fa-trash-o"></i>
							</button>
						</td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular-resource.min.js"></script>
<script src="/xeditable.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.10.0/ui-bootstrap-tpls.min.js"></script>
<script src="app.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-23880982-7', 'github.com');
  ga('send', 'pageview');

</script>
</body>
</html>